MDScreen:

    MDNavigationLayout:

        ScreenManager:
            id: screenManager

            MenuScreen:
                name: "MenuScreen"

            JoinScreen:
                name: "JoinScreen"

            LobbyScreen:
                name: "LobbyScreen"

            GameScreen:
                name: "GameScreen"
            
<MenuScreen>:
    MDBoxLayout:
        orientation: "vertical"
        pos_hint: {'center_y':0.5}
        adaptive_height: True
        spacing: 20

        MDFillRoundFlatButton:
            text: "Create Game"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: (0.15, 0.15)

            on_release: app.CreateRoom()

        MDFillRoundFlatButton:
            text: "Join Game"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: (0.15, 0.15)

            on_release: app.root.ids.screenManager.current = "JoinScreen"

        MDFillRoundFlatButton:
            text: "Exit"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: (0.15, 0.15)

            on_release: app.exitGame()

<JoinScreen>:
    MDBoxLayout:
        orientation: "vertical"
        pos_hint: {'center_y':0.5}
        adaptive_height: True
        spacing: 20

        MDTextField:
            id: roomCode
            hint_text: "Room Code"
            helper_text: "Enter Room Code"
            helper_text_mode: "on_focus"
            icon_right: "numeric"
            icon_right_color: app.theme_cls.primary_color
            pos_hint: {'center_x':0.5}
            size_hint_x: None
            width: 300

        MDFillRoundFlatButton:
            text: "Join"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: (0.15, 0.15)

            on_release: app.JoinRoom(roomCode.text)

        MDFillRoundFlatButton:
            text: "Back"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: (0.15, 0.15)

            on_release: app.root.ids.screenManager.current = "MenuScreen"

<LobbyScreen>:
    MDBoxLayout:
        orientation: "vertical"
        spacing: 20

        MDTextField:
            id: commandField
            hint_text: "Command"
            size_hint: None, None
            pos_hint: {'center_x': .5, 'center_y': .5}
            width: "300dp"
            on_text_validate: app.sendCommand(self.text)

        MDLabel:
            id: commandOutput
            halign: "center"

        MDLabel:
            id: waitingRoom
            hint_text: "Waiting For Others"
            halign: "center"

        MDFillRoundFlatButton:
            text: "Leave"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: (0.1, 0.1)

            on_release: app.LeaveRoom()

        # MDBoxLayout:
        #     orientation: "horizontal"
        #     spacing: 20

        #     MDFillRoundFlatButton:
        #         text: "Card 1"
        #         pos_hint: {"center_x": .5, "center_y": .5}
        #         size_hint: (0.1, 0.1)

        #         on_release: app.root.ids.screenManager.current = "MenuScreen"

        #     MDFillRoundFlatButton:
        #         text: "Card 2"
        #         pos_hint: {"center_x": .5, "center_y": .5}
        #         size_hint: (0.1, 0.1)

        #         on_release: app.root.ids.screenManager.current = "MenuScreen"

<GameScreen>:
    MDBoxLayout:
        orientation: "vertical"
        spacing: 20

        MDLabel:
            id: lastMove
            text: "Waiting For Others"
            halign: "center"

        MDFillRoundFlatButton:
            text: "Leave"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: (0.1, 0.1)

            on_release: app.LeaveRoom()
        
    MDBoxLayout:
        id: cardsButtons
        orientation: "horizontal"
        spacing: "15dp"
        adaptive_size: True
        pos_hint: {"center_x": .5, "center_y": .3}